/*! Built with http://stenciljs.com */
const{h:t}=window.nvcomponents;var e=function(t,e,i,n){return new(i||(i=Promise))(function(s,a){function r(t){try{h(n.next(t))}catch(t){a(t)}}function c(t){try{h(n.throw(t))}catch(t){a(t)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(r,c)}h((n=n.apply(t,e||[])).next())})};class i{constructor(){this.initial=0}doOpen(t,i){return e(this,void 0,void 0,function*(){this.checkActiveIndicator(),this.checkWave(),this.wave.stopWave();const e=this.element.getAttribute("tab-id"),n=this.element.querySelectorAll("[nv-tab]"),s=document.body.querySelector(`nv-tab-content[tab-id="${e}"]`);let a;if(!s)return!1;const r=s.children[t];if(!r)return;for(let t=0;t<s.children.length;t++)s.children[t]&&(r&&r===s.children[t]?s.children[t].setAttribute("nv-tab-active","true"):s.children[t].setAttribute("nv-tab-active","false"));for(let e=0;e<n.length;e++)n[e]&&(e===t?(a=n[e],n[e].setAttribute("nv-tab-active","activating")):n[e].setAttribute("nv-tab-active","false"));if(!a)return;const c=a.getBoundingClientRect(),h=this.element.getBoundingClientRect();this.activeIndicator.classList.add("nv-tabs-activating"),this.activeIndicator.style.width=`${c.width}px`,this.activeIndicator.style.left=`${c.left-h.left}px`,i&&(this.setWave(a),this.wave.highlight=!0,this.wave.doWave(i)),this.activeTimer=setTimeout(()=>{clearTimeout(this.activeTimer),r&&a&&this.activeIndicator&&(a.setAttribute("nv-tab-active","true"),this.activeIndicator.classList.remove("nv-tabs-activating"))},310)})}checkWave(){this.wave=this.element.querySelector("nv-wave"),this.wave||(this.wave=document.createElement("nv-wave"),this.element.appendChild(this.wave))}setWave(t){const e=t.getBoundingClientRect(),i=this.element.getBoundingClientRect();this.wave.style.position="absolute",this.wave.style.width=`${e.width}px`,this.wave.style.height=`${e.height}px`,this.wave.style.pointerEvents="none",this.wave.style.left=`${e.left-i.left}px`}checkActiveIndicator(){this.activeIndicator=this.element.querySelector(".active-indicator"),this.activeIndicator||(this.activeIndicator=document.createElement("div"),this.activeIndicator.className="active-indicator",this.element.appendChild(this.activeIndicator))}openTab(t,e){if(!t||!t.parentElement)return!1;const i=this.element.children;let n=0;for(let e=0;e<i.length;e++)if(i[e]!==this.wave&&i[e]!==this.activeIndicator){if(i[e]===t)break;n++}this.doOpen(n,e)}setTabs(){const t=this.element.querySelector('[nv-tab-active="true"]');let e=this.element.children;this.checkActiveIndicator(),this.checkWave();for(let t=0;t<e.length;t++){const i=e[t];i.getAttribute("nv-tab")||i===this.activeIndicator||i===this.wave||(i.setAttribute("nv-tab",t.toString()),i.setAttribute("tabindex","0"),i.classList.add("nv-tab"),i.addEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),this.openTab(i,t)}),i.addEventListener("focus",()=>{this.wave.reset(),requestAnimationFrame(()=>{this.setWave(i),this.wave.startWave(),this.wave.highlight=!1;const t=t=>{"Enter"===t.key&&this.openTab(i)},e=()=>{this.wave.stopWave(),i.removeEventListener("keypress",t),i.removeEventListener("blur",e),window.removeEventListener("click",e)};t.bind(this),e.bind(this),window.addEventListener("click",e),i.addEventListener("keypress",t),i.addEventListener("blur",e)})}))}t||(e=this.element.children,this.doOpen(this.initial||0)),this.element.classList.add("ready")}componentDidUpdate(){this.setTabs()}componentDidLoad(){this.setTabs(),new MutationObserver(t=>{for(let e=0;e<t.length;e++)if("childList"===t[e].type){this.setTabs();break}}).observe(this.element,{attributes:!0,childList:!0,characterData:!0})}render(){return t("slot",null)}static get is(){return"nv-tabs"}static get properties(){return{doOpen:{method:!0},element:{elementRef:!0},initial:{type:Number,attr:"initial"}}}static get style(){return"\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-Light.ttf) format(\"truetype\");font-weight:100;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-LightItalic.ttf) format(\"truetype\");font-weight:100;font-style:italic}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-Regular.ttf) format(\"truetype\");font-weight:400;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-Italic.ttf) format(\"truetype\");font-weight:400;font-style:italic}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-Bold.ttf) format(\"truetype\");font-weight:700;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-BoldItalic.ttf) format(\"truetype\");font-weight:700;font-style:italic}nv-tabs{position:relative;width:100%;height:auto;outline:0!important;font-size:14px;font-family:Roboto,sans-serif;font-weight:400;line-height:24px;color:rgba(255,255,255,.75);display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s}nv-tabs.ready{opacity:1}nv-tabs[center=true]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}nv-tabs>*{opacity:0}nv-tabs>[nv-tab]{position:relative;cursor:pointer;padding:12px 24px;-webkit-box-sizing:border-box;box-sizing:border-box;opacity:.625;outline:0!important;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;white-space:nowrap;-ms-flex-negative:0;flex-shrink:0;line-height:2em;-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}nv-tabs nv-wave,nv-tabs>[nv-tab][nv-tab-active=activating],nv-tabs>[nv-tab][nv-tab-active=true]{opacity:1}nv-tabs>[nv-tab][nv-tab-active=true]:after{content:\"\";position:absolute;height:2px;background:#76b900;width:100%;pointer-events:none;bottom:0}nv-tabs .active-indicator{position:absolute;height:2px;background:#76b900;width:0%;pointer-events:none;bottom:0;-webkit-transition:left .2s ease-in-out,width .3s ease-in-out;transition:left .2s ease-in-out,width .3s ease-in-out;opacity:0}nv-tabs .active-indicator.nv-tabs-activating{opacity:1}\@-webkit-keyframes fadeInOut{0%,100%{opacity:0}40%{opacity:.5}60%{opacity:.8}}\@keyframes fadeInOut{0%,100%{opacity:0}40%{opacity:.5}60%{opacity:.8}}\@-webkit-keyframes fade{from{opacity:.24}}\@keyframes fade{from{opacity:.24}}\@-webkit-keyframes pulsing{from{opacity:.05;-webkit-transform:scale3d(2,2,2);transform:scale3d(2,2,2)}}\@keyframes pulsing{from{opacity:.05;-webkit-transform:scale3d(2,2,2);transform:scale3d(2,2,2)}}\@-webkit-keyframes pulsingLight{to{opacity:.2;-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2)}}\@keyframes pulsingLight{to{opacity:.2;-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2)}}\@-webkit-keyframes pulsingLighter{from{opacity:.1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}}\@keyframes pulsingLighter{from{opacity:.1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}}.nv-component-disabled{opacity:.3;pointer-events:none}.nv-component-disabled *{pointer-events:none}:host{position:relative;width:100%;height:auto;outline:0!important;font-size:14px;font-family:Roboto,sans-serif;font-weight:400;line-height:24px;color:rgba(255,255,255,.75);display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s}:host.ready{opacity:1}:host[center=true]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"}}export{i as NvTabs};