/*! Built with http://stenciljs.com */
import{h}from"./nvcomponents.core.js";var NvMenu=function(){function t(){this._options=[],this._position="bottom",this.options=[],this.position="bottom",this.active=!1}return t.prototype.optionClick=function(t){t.preventDefault(),t.stopPropagation();for(var e=0,n=this.container.querySelectorAll(".menu-option");e<n.length&&n[e]!==t.target&&!n[e].contains(t.target);)e+=1;this.whenOptionClicked.emit(e),this.whenClicked&&"function"==typeof this.whenClicked&&this.whenClicked(e),this.whenClosed.emit()},t.prototype.update=function(){this._position=this.position||this._position,this._anchor=(this.anchor?"string"==typeof this.anchor?document.querySelector(this.anchor):this.anchor:null)||this.element,this.tooltip.triggerElement=this._anchor},t.prototype.componentDidUpdate=function(){this.update()},t.prototype.componentDidLoad=function(){var t=this;this.update(),this.tooltip.addEventListener("whenOpened",function(){t.whenActivated&&"function"==typeof t.whenActivated&&t.whenActivated()}),this.tooltip.addEventListener("whenClosed",function(){t.whenDeactivated&&"function"==typeof t.whenDeactivated&&t.whenDeactivated()})},t.prototype.render=function(){var t=this;if(this.optionClick=this.optionClick.bind(this),this.options)if("string"==typeof this.options)try{this._options=JSON.parse(this.options)}catch(t){this._options=this.options.split(",").map(function(t){return t.trim()})}else Array.isArray(this.options)?this._options=this.options:this._options=[];else this._options=[];return h("div",{class:"menu-container",ref:function(e){return t.container=e}},h("nv-tooltip",{ref:function(e){return t.tooltip=e},padding:0,active:this.active,triggerOn:"never",triggerElement:this._anchor,position:this._position,boxShadow:!0},this._options.map(function(e){return h("div",""!==e?{class:"menu-option",onClick:t.optionClick,innerHTML:e}:{class:"menu-option-divider"})})))},Object.defineProperty(t,"is",{get:function(){return"nv-menu"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{active:{type:Boolean,attr:"active"},anchor:{type:String,attr:"anchor"},element:{elementRef:!0},options:{type:String,attr:"options"},position:{type:String,attr:"position"},whenActivated:{type:"Any",attr:"when-activated"},whenClicked:{type:"Any",attr:"when-clicked"},whenDeactivated:{type:"Any",attr:"when-deactivated"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"whenOptionClicked",method:"whenOptionClicked",bubbles:!0,cancelable:!0,composed:!0},{name:"whenOpened",method:"whenOpened",bubbles:!0,cancelable:!0,composed:!0},{name:"whenClosed",method:"whenClosed",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"\@font-face{font-family:Roboto;src:url(src/components/nv-menu/assets/fonts/Roboto-Light.ttf) format(\"truetype\");font-weight:100;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-menu/assets/fonts/Roboto-LightItalic.ttf) format(\"truetype\");font-weight:100;font-style:italic}\@font-face{font-family:Roboto;src:url(src/components/nv-menu/assets/fonts/Roboto-Regular.ttf) format(\"truetype\");font-weight:400;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-menu/assets/fonts/Roboto-Italic.ttf) format(\"truetype\");font-weight:400;font-style:italic}\@font-face{font-family:Roboto;src:url(src/components/nv-menu/assets/fonts/Roboto-Bold.ttf) format(\"truetype\");font-weight:700;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-menu/assets/fonts/Roboto-BoldItalic.ttf) format(\"truetype\");font-weight:700;font-style:italic}\@-webkit-keyframes fadeInOut{0%,100%{opacity:0}40%{opacity:.5}60%{opacity:.8}}\@keyframes fadeInOut{0%,100%{opacity:0}40%{opacity:.5}60%{opacity:.8}}\@-webkit-keyframes fade{from{opacity:.24}}\@keyframes fade{from{opacity:.24}}\@-webkit-keyframes pulsing{from{opacity:.05;-webkit-transform:scale3d(2,2,2);transform:scale3d(2,2,2)}}\@keyframes pulsing{from{opacity:.05;-webkit-transform:scale3d(2,2,2);transform:scale3d(2,2,2)}}\@-webkit-keyframes pulsingLight{to{opacity:.2;-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2)}}\@keyframes pulsingLight{to{opacity:.2;-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2)}}\@-webkit-keyframes pulsingLighter{from{opacity:.1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}}\@keyframes pulsingLighter{from{opacity:.1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}}.nv-component-disabled{opacity:.3;pointer-events:none}.nv-component-disabled *{pointer-events:none}:host{display:inline-block}nv-tooltip{pointer-events:all}.menu-option{font-size:14px;line-height:24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;padding:14px 16px;overflow:hidden;pointer-events:all;cursor:pointer;text-align:left;background-color:transparent;-webkit-transition:background-color .2s;transition:background-color .2s}.menu-option:hover{background-color:#282e32}.menu-option-divider{border-top:1px solid #21262a;padding:0}"},enumerable:!0,configurable:!0}),t}(),NvTootltip=function(){function t(){this._active=!1,this.positions=["bottom","top","left","right"],this.padding=8,this.position="",this.active=!1,this.triggerOn="mouseenter",this.triggerElement="",this.hideAfter=0,this.delay=0,this.boxShadow=!1}return t.prototype.setDimensions=function(){var t=this._triggerElement.getBoundingClientRect();this.container.style.width=this._triggerElement.offsetWidth+"px",this.container.style.height=this._triggerElement.offsetHeight+"px",this.container.style.top=t.top+"px",this.container.style.left=t.left+"px",window.innerWidth<=768?this.container.setAttribute("device","mobile"):this.container.setAttribute("device","browser")},t.prototype.setPositions=function(){var t="bottom";this.position&&this.positions.indexOf(this.position)>-1&&(t=this.position),this.container.setAttribute("position",t);var e=this.container.getBoundingClientRect(),n=this.contentInner.offsetWidth,i=this.contentInner.offsetHeight,o=0,s=0;n>window.innerWidth&&(this.contentInner.style.width=window.innerWidth-20+"px",n=this.contentInner.offsetWidth),i>window.innerHeight&&(this.contentInner.style.height=.8*(window.innerHeight-20)+"px",i=this.contentInner.offsetHeight);var r=function(){return e.top>window.innerHeight-e.bottom?-(i/2+e.height/2+10):i/2+e.height/2+10},h=function(){var t=e.top-i/2<0,n=e.bottom+i/2>window.innerHeight,o=i/2-e.top+10,r=window.innerHeight-(i/2+e.bottom+10);t?s=o:n&&(s=r)};switch(t){case"left":e.left-(n+10)<0?e.right+(n+10)<window.innerWidth?(o=n+20+e.width,h()):(s=r(),o=n+10+(e.width/2-n/2)):h();break;case"right":e.right+(n+10)>window.innerWidth?e.left-(n+10)>0?(o=-(n+20+e.width),h()):(s=r(),o=-(n+10+(e.width/2-n/2))):h();break;case"top":e.top-i-10+window.pageYOffset<0&&(s=i+20+e.height);break;default:s=i+10,e.bottom+i+10>window.innerHeight&&(e.top+window.pageYOffset-(i-20)>0?s=-(e.height+10):(this.contentInner.style.height=.8*(window.innerHeight-20)+"px",i=this.contentInner.offsetHeight,e.top>window.innerHeight-e.bottom?(this.contentInner.style.height=e.top-20+"px",i=this.contentInner.offsetHeight,s=-(i/2+e.height/2+10)):(this.contentInner.style.height=window.innerHeight-e.bottom-20+"px",i=this.contentInner.offsetHeight,s=i/2+e.height/2+10)))}this.content.style.transform="scale(1,1) translate("+o+"px, "+s+"px)";var c=this.content.getBoundingClientRect();c.left<0?(o=10-c.left,this.content.style.transform="scale(1,1) translate("+o+"px, "+s+"px)"):c.right>window.innerWidth&&(o=window.innerWidth-c.right-10,this.content.style.transform="scale(1,1) translate("+o+"px, "+s+"px)")},t.prototype.checkDimensions=function(){var t=this;clearTimeout(this.checkDimensionsTimer),this.active&&(this.setDimensions(),setTimeout(function(){t.setPositions()},1),this.checkDimensionsTimer=setTimeout(function(){t.checkDimensions()},16))},t.prototype.open=function(){var t=this;clearTimeout(this.openTimer),this.container.style.removeProperty("transform-origin"),this.contentInner.style.width=this.contentInner.style.height="auto",this.openTimer=setTimeout(function(){if("never"===t.triggerOn){if(!t.active)return}else t.active=!0;t.active&&(t.container.classList.add("open"),t.checkDimensions(),t.whenOpened.emit(),t.hideAfter&&setTimeout(function(){t.close()},t.hideAfter))},this.delay||0)},t.prototype.close=function(){var t=this;if("never"===this.triggerOn){if(this.active)return void this.whenClosed.emit()}else this.whenClosed.emit(),this.active=!1;clearTimeout(this.openTimer),this.container.classList.contains("open")&&(this.container.classList.remove("open"),this.content.removeAttribute("style"),setTimeout(function(){t.container.style.removeProperty("transform-origin")},300))},t.prototype.handleIntersect=function(t){this.active&&!t[0].isIntersecting&&this.close()},t.prototype.doOpen=function(){this.active?this.close():this.open()},t.prototype.doClose=function(){this.active||this.close()},t.prototype.doBodyClick=function(t){var e=t.target===this._triggerElement||this._triggerElement.contains(t.target),n=t.target===this.container||t.target===this.element||this.container.contains(t.target)||this.element.contains(t.target);!this.active||e||n||this.close()},t.prototype.setEvents=function(){"never"!==this.triggerOn&&(this._triggerElement.addEventListener(this.triggerOn||"mouseenter",this.doOpen),this.triggerOn&&"mouseenter"!==this.triggerOn||this._triggerElement.addEventListener("mouseleave",this.doClose))},t.prototype.removeEvents=function(){this._triggerElement&&(this._triggerElement.removeEventListener(this.triggerOn||"mouseenter",this.doOpen),this.triggerOn&&"mouseenter"!==this.triggerOn||this._triggerElement.removeEventListener("mouseleave",this.doClose))},t.prototype.update=function(){this.removeEvents(),this.parent=this.element.parentElement,this._triggerElement=(this.triggerElement?"string"==typeof this.triggerElement?document.querySelector(this.triggerElement):this.triggerElement:null)||this.parent,this.setEvents(),this.boxShadow?this.content.classList.add("boxShadow"):this.content.classList.remove("boxShadow"),this.active!==this._active&&(this._active=this.active,this.active?this.open():this.close())},t.prototype.componentDidUpdate=function(){this.update()},t.prototype.componentDidLoad=function(){this.doBodyClick=this.doBodyClick.bind(this),this.doClose=this.doClose.bind(this),this.doOpen=this.doOpen.bind(this),this.handleIntersect=this.handleIntersect.bind(this),this.setPositions=this.setPositions.bind(this),new IntersectionObserver(this.handleIntersect,{root:null,rootMargin:"0px",threshold:[0,.01,.99,1]}).observe(this.contentInnerInner),this.update(),window.document.body.addEventListener("click",this.doBodyClick)},t.prototype.render=function(){var t=this;return h("div",{class:"tooltip-container",ref:function(e){return t.container=e}},h("div",{class:"tooltip-content",ref:function(e){return t.content=e}},h("div",{class:"tooltip-content-inner",style:{padding:"0px "+this.padding+"px"},ref:function(e){return t.contentInner=e}},h("div",{class:"tooltip-content-inner-inner",ref:function(e){return t.contentInnerInner=e}},h("slot",null)))))},Object.defineProperty(t,"is",{get:function(){return"nv-tooltip"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{active:{type:Boolean,attr:"active",mutable:!0},boxShadow:{type:Boolean,attr:"box-shadow"},delay:{type:Number,attr:"delay"},element:{elementRef:!0},hideAfter:{type:Number,attr:"hide-after"},padding:{type:Number,attr:"padding"},position:{type:String,attr:"position"},triggerElement:{type:String,attr:"trigger-element"},triggerOn:{type:String,attr:"trigger-on"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"whenOpened",method:"whenOpened",bubbles:!0,cancelable:!0,composed:!0},{name:"whenClosed",method:"whenClosed",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"\@font-face{font-family:Roboto;src:url(src/components/nv-tooltip/assets/fonts/Roboto-Light.ttf) format(\"truetype\");font-weight:100;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tooltip/assets/fonts/Roboto-LightItalic.ttf) format(\"truetype\");font-weight:100;font-style:italic}\@font-face{font-family:Roboto;src:url(src/components/nv-tooltip/assets/fonts/Roboto-Regular.ttf) format(\"truetype\");font-weight:400;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tooltip/assets/fonts/Roboto-Italic.ttf) format(\"truetype\");font-weight:400;font-style:italic}\@font-face{font-family:Roboto;src:url(src/components/nv-tooltip/assets/fonts/Roboto-Bold.ttf) format(\"truetype\");font-weight:700;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tooltip/assets/fonts/Roboto-BoldItalic.ttf) format(\"truetype\");font-weight:700;font-style:italic}\@-webkit-keyframes fadeInOut{0%,100%{opacity:0}40%{opacity:.5}60%{opacity:.8}}\@keyframes fadeInOut{0%,100%{opacity:0}40%{opacity:.5}60%{opacity:.8}}\@-webkit-keyframes fade{from{opacity:.24}}\@keyframes fade{from{opacity:.24}}\@-webkit-keyframes pulsing{from{opacity:.05;-webkit-transform:scale3d(2,2,2);transform:scale3d(2,2,2)}}\@keyframes pulsing{from{opacity:.05;-webkit-transform:scale3d(2,2,2);transform:scale3d(2,2,2)}}\@-webkit-keyframes pulsingLight{to{opacity:.2;-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2)}}\@keyframes pulsingLight{to{opacity:.2;-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2)}}\@-webkit-keyframes pulsingLighter{from{opacity:.1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}}\@keyframes pulsingLighter{from{opacity:.1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}}.nv-component-disabled{opacity:.3;pointer-events:none}.nv-component-disabled *{pointer-events:none}:host{width:0;height:0;position:relative;pointer-events:none;z-index:1}.tooltip-container{position:fixed;top:0;height:0;-webkit-transition:opacity .2s ease-in-out .1s;transition:opacity .2s ease-in-out .1s;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:0;pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden}.tooltip-container.open{opacity:1}.tooltip-container.open .tooltip-content{-webkit-transform:scale(1,1);transform:scale(1,1)}.tooltip-container .tooltip-content{-webkit-transform:scale(0,0);transform:scale(0,0);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;font-size:10px;font-family:Roboto,sans-serif;font-weight:400;line-height:24px;color:rgba(255,255,255,.75);pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden}.tooltip-container .tooltip-content.boxShadow{-webkit-box-shadow:1px 2px 1px -2px rgba(0,0,0,.1),1px 3px 5px 0 rgba(0,0,0,.1),1px 3px 15px 0 rgba(0,0,0,.2);box-shadow:1px 2px 1px -2px rgba(0,0,0,.1),1px 3px 5px 0 rgba(0,0,0,.1),1px 3px 15px 0 rgba(0,0,0,.2)}.tooltip-container .tooltip-content-inner{display:inline-block;overflow:auto;background:#2c3338;padding:0 8px;pointer-events:all;-webkit-backface-visibility:hidden;backface-visibility:hidden}.tooltip-container .tooltip-content-inner-inner{display:inline-block}.tooltip-container[device=mobile] .tooltip-content{font-size:14px;line-height:32px}.tooltip-container[position=bottom]{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.tooltip-container[position=right]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tooltip-container[position=right] .tooltip-content{top:0;right:calc(-100% - 10px)}.tooltip-container[position=left]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tooltip-container[position=left] .tooltip-content{top:0;left:calc(-100% - 10px)}.tooltip-container[position=top]{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tooltip-container[position=top] .tooltip-content{top:calc(-100% - 10px)}"},enumerable:!0,configurable:!0}),t}();export{NvMenu,NvTootltip as NvTooltip};