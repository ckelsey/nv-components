/*! Built with http://stenciljs.com */
import{h}from"./nvcomponents.core.js";var NvTabs=function(){function t(){this.initial=0}return t.prototype.doOpen=function(t,e){var i=this;this.checkActiveIndicator(),this.checkWave(),this.wave.stopWave();var n,a=this.element.getAttribute("tab-id"),r=this.element.querySelectorAll("[nv-tab]"),s=document.body.querySelector('nv-tab-content[tab-id="'+a+'"]');if(!s)return!1;var o=s.children[t];if(o){for(var c=0;c<s.children.length;c++)s.children[c]&&(o&&o===s.children[c]?s.children[c].setAttribute("nv-tab-active","true"):s.children[c].setAttribute("nv-tab-active","false"));for(c=0;c<r.length;c++)r[c]&&(c===t?(n=r[c],r[c].setAttribute("nv-tab-active","activating")):r[c].setAttribute("nv-tab-active","false"));if(n){var v=n.getBoundingClientRect(),h=this.element.getBoundingClientRect();this.activeIndicator.classList.add("nv-tabs-activating"),this.activeIndicator.style.width=v.width+"px",this.activeIndicator.style.left=v.left-h.left+"px",e&&(this.setWave(n),this.wave.highlight=!0,this.wave.doWave(e)),this.activeTimer=setTimeout(function(){clearTimeout(i.activeTimer),o&&n&&i.activeIndicator&&(n.setAttribute("nv-tab-active","true"),i.activeIndicator.classList.remove("nv-tabs-activating"))},310)}}},t.prototype.checkWave=function(){this.wave=this.element.querySelector("nv-wave"),this.wave||(this.wave=document.createElement("nv-wave"),this.element.appendChild(this.wave))},t.prototype.setWave=function(t){var e=t.getBoundingClientRect(),i=this.element.getBoundingClientRect();this.wave.style.position="absolute",this.wave.style.width=e.width+"px",this.wave.style.height=e.height+"px",this.wave.style.pointerEvents="none",this.wave.style.left=e.left-i.left+"px"},t.prototype.checkActiveIndicator=function(){this.activeIndicator=this.element.querySelector(".active-indicator"),this.activeIndicator||(this.activeIndicator=document.createElement("div"),this.activeIndicator.className="active-indicator",this.element.appendChild(this.activeIndicator))},t.prototype.openTab=function(t,e){if(!t||!t.parentElement)return!1;for(var i=this.element.children,n=0,a=0;a<i.length;a++)if(i[a]!==this.wave&&i[a]!==this.activeIndicator){if(i[a]===t)break;n++}this.doOpen(n,e)},t.prototype.setTabs=function(){var t=this,e=this.element.querySelector('[nv-tab-active="true"]'),i=this.element.children;this.checkActiveIndicator(),this.checkWave();for(var n=function(e){var n=i[e];n.getAttribute("nv-tab")||n===a.activeIndicator||n===a.wave||(n.setAttribute("nv-tab",e.toString()),n.setAttribute("tabindex","0"),n.classList.add("nv-tab"),n.addEventListener("mousedown",function(e){e.preventDefault(),e.stopPropagation(),t.openTab(n,e)}),n.addEventListener("focus",function(){t.wave.reset(),requestAnimationFrame(function(){t.setWave(n),t.wave.startWave(),t.wave.highlight=!1;var e=function(e){"Enter"===e.key&&t.openTab(n)},i=function(){t.wave.stopWave(),n.removeEventListener("keypress",e),n.removeEventListener("blur",i),window.removeEventListener("click",i)};e.bind(t),i.bind(t),window.addEventListener("click",i),n.addEventListener("keypress",e),n.addEventListener("blur",i)})}))},a=this,r=0;r<i.length;r++)n(r);e||(i=this.element.children,this.doOpen(this.initial||0)),this.element.classList.add("ready")},t.prototype.componentDidUpdate=function(){this.setTabs()},t.prototype.componentDidLoad=function(){var t=this;this.setTabs(),new MutationObserver(function(e){for(var i=0;i<e.length;i++)if("childList"===e[i].type){t.setTabs();break}}).observe(this.element,{attributes:!0,childList:!0,characterData:!0})},t.prototype.render=function(){return h("slot",null)},Object.defineProperty(t,"is",{get:function(){return"nv-tabs"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{doOpen:{method:!0},element:{elementRef:!0},initial:{type:Number,attr:"initial"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-Light.ttf) format(\"truetype\");font-weight:100;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-LightItalic.ttf) format(\"truetype\");font-weight:100;font-style:italic}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-Regular.ttf) format(\"truetype\");font-weight:400;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-Italic.ttf) format(\"truetype\");font-weight:400;font-style:italic}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-Bold.ttf) format(\"truetype\");font-weight:700;font-style:normal}\@font-face{font-family:Roboto;src:url(src/components/nv-tabs/assets/fonts/Roboto-BoldItalic.ttf) format(\"truetype\");font-weight:700;font-style:italic}nv-tabs{position:relative;width:100%;height:auto;outline:0!important;font-size:14px;font-family:Roboto,sans-serif;font-weight:400;line-height:24px;color:rgba(255,255,255,.75);display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s}nv-tabs.ready{opacity:1}nv-tabs[center=true]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}nv-tabs>*{opacity:0}nv-tabs>[nv-tab]{position:relative;cursor:pointer;padding:12px 24px;-webkit-box-sizing:border-box;box-sizing:border-box;opacity:.625;outline:0!important;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;white-space:nowrap;-ms-flex-negative:0;flex-shrink:0;line-height:2em;-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}nv-tabs nv-wave,nv-tabs>[nv-tab][nv-tab-active=activating],nv-tabs>[nv-tab][nv-tab-active=true]{opacity:1}nv-tabs>[nv-tab][nv-tab-active=true]:after{content:\"\";position:absolute;height:2px;background:#76b900;width:100%;pointer-events:none;bottom:0}nv-tabs .active-indicator{position:absolute;height:2px;background:#76b900;width:0%;pointer-events:none;bottom:0;-webkit-transition:left .2s ease-in-out,width .3s ease-in-out;transition:left .2s ease-in-out,width .3s ease-in-out;opacity:0}nv-tabs .active-indicator.nv-tabs-activating{opacity:1}\@-webkit-keyframes fadeInOut{0%,100%{opacity:0}40%{opacity:.5}60%{opacity:.8}}\@keyframes fadeInOut{0%,100%{opacity:0}40%{opacity:.5}60%{opacity:.8}}\@-webkit-keyframes fade{from{opacity:.24}}\@keyframes fade{from{opacity:.24}}\@-webkit-keyframes pulsing{from{opacity:.05;-webkit-transform:scale3d(2,2,2);transform:scale3d(2,2,2)}}\@keyframes pulsing{from{opacity:.05;-webkit-transform:scale3d(2,2,2);transform:scale3d(2,2,2)}}\@-webkit-keyframes pulsingLight{to{opacity:.2;-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2)}}\@keyframes pulsingLight{to{opacity:.2;-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2)}}\@-webkit-keyframes pulsingLighter{from{opacity:.1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}}\@keyframes pulsingLighter{from{opacity:.1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}}.nv-component-disabled{opacity:.3;pointer-events:none}.nv-component-disabled *{pointer-events:none}:host{position:relative;width:100%;height:auto;outline:0!important;font-size:14px;font-family:Roboto,sans-serif;font-weight:400;line-height:24px;color:rgba(255,255,255,.75);display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s}:host.ready{opacity:1}:host[center=true]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"},enumerable:!0,configurable:!0}),t}();export{NvTabs};